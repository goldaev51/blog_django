{% extends "base_generic.html" %}

{% block content %}
    <h1>Username: {{ user.username }}</h1>
    <p><strong>First name:</strong> {% if user.first_name %}{{ user.first_name }}{% else %} not exists {% endif %} </p>
    <!--<p><strong>email:</strong> {% if user.email %}{{ user.email }}{% else %} not exists {% endif %} </p>-->
    <p><strong>Posts:</strong> {{ user.post_set.count }} </p>
    <p><strong>Comments:</strong> {{ user.comment_set.count }} </p>

    <div style="margin-left:20px;margin-top:20px">
        <h4>Posts</h4>

        <ul>
            {% for post in user.post_set.all %}

                <li>
                    <a href="{% url 'blog:post-detail' post.id %}">{{ post.title }}</a>
                    <p class="text-muted">{{ post.short_description }}</p>
                </li>

                {% if not forloop.last %}
                    <hr>
                {% endif %}
            {% empty %}
                <li>This author has no posts</li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}